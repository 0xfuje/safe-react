import HDWalletProvider from '@truffle/hdwallet-provider'
import { WalletModule } from 'bnc-onboard/dist/src/interfaces'
import { getPublicRpcUrl } from 'src/config'
import { E2E_MNEMONIC } from 'src/utils/constants'

const WALLET_NAME = 'E2E Wallet'
const CYPRESS_LOGO =
  'data:image/jpeg;base64,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'

const getE2EWalletModule = (): WalletModule => {
  return {
    name: WALLET_NAME,
    type: 'injected',
    iconSrc: CYPRESS_LOGO,
    wallet: async (helpers) => {
      const { createModernProviderInterface } = helpers
      const provider = new HDWalletProvider({
        mnemonic: E2E_MNEMONIC,
        providerOrUrl: getPublicRpcUrl(),
      })
      return {
        provider,
        interface: createModernProviderInterface(provider),
      }
    },
    desktop: true,
    mobile: true,
  }
}

export default getE2EWalletModule
